{"version":3,"sources":["webpack:///./src/views/Sign.vue","webpack:///./src/views/Sign.vue?5d46","webpack:///./src/utils/validation.js","webpack:///./src/assets/img.svg","webpack:///./src/views/Sign.vue?79e7","webpack:///./src/assets/MetaWall.png"],"names":["class","_createElementVNode","src","_imports_0","alt","_imports_1","style","_createElementBlock","_hoisted_3","_hoisted_6","type","placeholder","_ctx","name","$event","email","password","confirmPassword","_hoisted_14","value","sex","checked","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_21","_hoisted_22","_hoisted_23","onClick","_createVNode","_component_router_link","to","defineComponent","components","setup","router","useRouter","store","useStore","isVerifiedNickname","ref","isVerifiedEmail","isVerifiedPassword","isVerifiedConfirmPassword","isEmailRegistered","registerForm","reactive","photo","register","async","nicknameRule","emailRule","passwordRule","length","confirmPasswordRule","resData","dispatch","console","log","status","alert","push","path","__exports__","render","nickname","test","imageTypeRule","filename","module","exports"],"mappings":"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","file":"js/chunk-5429affb.3917acbd.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <img src=\"@/assets/img.svg\" alt=\"\">\n      </div>\n      <div class=\"col\">\n        <div class=\"login-block\">\n          <div class=\"login-title\">\n            <img src=\"@/assets/MetaWall.png\" alt=\"\">\n            <p class=\"text\">註冊</p>\n          </div>\n          <div class=\"login-input\">\n            <p>\n              <input type=\"text\" class=\"nickname\" placeholder=\"暱稱\" v-model=\"registerForm.name\">\n              <span v-show=\"!isVerifiedNickname\" class=\"nickname-msg\">暱稱至少 2 個字元以上</span>\n            </p>\n            <p>\n              <input type=\"email\" class=\"email\" placeholder=\"Email\" v-model=\"registerForm.email\" >\n              <span v-show=\"!isVerifiedEmail\" class=\"email-msg\">Email 格式錯誤</span>\n              <span v-show=\"isEmailRegistered\" class=\"email-msg\">帳號已被註冊，請替換新的 Email！</span>\n            </p>\n            <p>\n              <input type=\"password\" class=\"password\" placeholder=\"Password\" v-model=\"registerForm.password\">\n              <span v-show=\"!isVerifiedPassword\" class=\"password-msg\">密碼需至少 8 碼以上，並英文、數字混合</span>\n            </p>\n            <p>\n              <input type=\"password\" class=\"confirmPassword\" placeholder=\"Confirm Password\" v-model=\"registerForm.confirmPassword\">\n              <span v-show=\"!isVerifiedConfirmPassword\" class=\"password-msg\">確認密碼跟密碼不一致</span>\n            </p>\n          </div>\n          <div class=\"user-info\">\n            <p class=\"user-info__label\">性別</p>\n            <div class=\"form-radio\" style=\"margin-top: 8px;\">\n              <label class=\"radio\">\n                <input type=\"radio\" name=\"gender\" class=\"radio__input\"  value=\"male\"   v-model=\"registerForm.sex\" checked>\n                <i class=\"material-icons un-checked radio__input-icon\">radio_button_unchecked</i>\n                <i class=\"material-icons checked radio__input-icon\">radio_button_checked</i>\n                <p class=\"radio__input-text\">男性</p>\n              </label>\n              <label class=\"radio\" style=\"margin-left: 32px;\">\n                <input type=\"radio\" name=\"gender\"  value=\"female\" class=\"radio__input\"  v-model=\"registerForm.sex\">\n                <i class=\"material-icons un-checked radio__input-icon\">radio_button_unchecked</i>\n                <i class=\"material-icons checked radio__input-icon\">radio_button_checked</i>\n                <p class=\"radio__input-text\">女性</p>\n              </label>\n            </div>\n          </div>\n          <div class=\"btn-block\">\n            <button type=\"button\" class=\"btn-signup\" @click=\"register\">註冊</button>\n            <router-link to=\"/login\" class=\"btn-login\">登入</router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { defineComponent, ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { nicknameRule, emailRule, passwordRule, confirmPasswordRule } from '@/utils/validation'\n\nexport default defineComponent({\n  name: 'PublishPost',\n  components: {},\n  setup () {\n    const router = useRouter()\n    const store = useStore()\n    const isVerifiedNickname = ref(true)\n    const isVerifiedEmail = ref(true)\n    const isVerifiedPassword = ref(true)\n    const isVerifiedConfirmPassword =ref(true)\n    const isEmailRegistered = ref(false)\n\n    // const accountStatus = computed(() => {\n    //   return store.getters['user/accountStatus']\n    // });\n\n    const registerForm = reactive({\n      name: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      sex: 'male',\n      photo: 'https://i.imgur.com/tpNL3KK.png'\n    })\n\n    const register = async () => {\n      !registerForm.name || !nicknameRule(registerForm.name)\n        ? (isVerifiedNickname.value = false)\n        : (isVerifiedNickname.value = true)\n\n      !registerForm.email || !emailRule(registerForm.email)\n        ? (isVerifiedEmail.value = false)\n        : (isVerifiedEmail.value = true)\n\n      !registerForm.password || !passwordRule(registerForm.password)\n        ? (isVerifiedPassword.value = false)\n        : (isVerifiedPassword.value = true)\n\n      registerForm.confirmPassword.length>0 && confirmPasswordRule(registerForm.password,registerForm.confirmPassword)? (isVerifiedConfirmPassword.value = true)\n        : (isVerifiedConfirmPassword.value = false)\n\n      if(isVerifiedNickname.value && isVerifiedEmail.value && isVerifiedPassword.value && isVerifiedConfirmPassword.value){\n        const resData =await store.dispatch('user/register', { ...registerForm })\n        console.log(resData)\n        if(resData.status == 'false'){\n          alert('信箱已註冊，請更換')\n          isEmailRegistered.value= true\n          return \n        }\n        router.push({ path: '/login' });\n      }\n    }\n    return {\n      registerForm,\n      isVerifiedNickname,\n      isVerifiedEmail,\n      isEmailRegistered,\n      isVerifiedPassword,\n      isVerifiedConfirmPassword,\n      register\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  width: 100%;\n  height: 100vh;\n  max-width: 1440px;\n  max-height: 960px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.row {\n  border: 2px solid #000400;\n  width: 870px;\n  padding: 70px 22px;\n  background: #efece7;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  box-shadow: -8px 8px 0px #00040029;\n  justify-content: center;\n\n  @media screen and (max-width: 867px) {\n    width: 100%;\n  }\n}\n\n.col {\n  margin: 0 24px;\n}\n\n.login-block {\n  width: 374px;\n}\n\n/* LOGO圖片跟字 */\n.login-title {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  margin-bottom: 36px;\n}\n\n.text {\n  font: 24px 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n}\n\n/* 帳號密碼輸入框 */\n.login-input p {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 16px;\n}\n\n.login-input p input {\n  padding: 16px 24px 16px;\n  border: 2px solid #000400;\n  outline: none;\n  font: Azeret Mono;\n}\n\n.login-input p span {\n  display: block;\n}\n\n.login-input p input::placeholder {\n  color: #9b9893;\n}\n\n/* 錯誤訊息 */\n.login-input p .nickname-msg,\n.login-input p .email-msg,\n.login-input p .password-msg {\n  font: 14px 'Noto Sans TC';\n  color: #f57375;\n  display: none;\n}\n\n/* 登入與註冊按鈕 */\n.btn-block {\n  display: flex;\n  flex-direction: column;\n}\n\n.btn-signup {\n  color: #fff;\n  background: #a8b0b9;\n  border: 2px solid #808080;\n  border-radius: 8px;\n  padding: 16px 0;\n  margin: 16px 0;\n  cursor: pointer;\n  font-size: bold Azeret Mono;\n}\n\n.btn-login {\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: Azeret Mono;\n  text-align: center;\n  font-size: 13px;\n}\n\n/* 錯誤訊息 */\n.login-input p .nickname-msg,\n.login-input p .email-msg,\n.login-input p .password-msg {\n  display: block;\n  font: 14px 'Noto Sans TC';\n  color: #f57375;\n}\n\n.form-radio{\n  justify-content: space-around;\n}\n</style>\n","import { render } from \"./Sign.vue?vue&type=template&id=572e74a5&scoped=true\"\nimport script from \"./Sign.vue?vue&type=script&lang=js\"\nexport * from \"./Sign.vue?vue&type=script&lang=js\"\n\nimport \"./Sign.vue?vue&type=style&index=0&id=572e74a5&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/uniza/WorkSpace/github/vue3-wall/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-572e74a5\"]])\n\nexport default __exports__","/** 暱稱驗證\n * @desc 暱稱驗證\n * @param { nickname } string - nickname text\n * @return { boolean } boolean - 判斷是否符合規則或不符合規則的訊息\n */\nexport const nicknameRule = (nickname) => {\n  return nickname.length >= 2\n}\n\n/** 電子郵件驗證\n * @desc 電子郵件驗證\n * @param { email } string - email text\n * @return { boolean } boolean - 判斷是否符合規則或不符合規則的訊息\n */\nexport const emailRule = (email) => {\n  return /.+@.+\\..+/.test(email)\n}\n\n/** 密碼驗證\n * @desc 密碼驗證\n * @param { password } string - password text\n * @return { boolean } boolean - 判斷是否符合規則或不符合規則的訊息\n */\nexport const passwordRule = (password) => {\n  return /^((?=\\S*?[A-Za-z])(?=\\S*?[0-9]).{7,})\\S$/.test(password)\n}\n\nexport const confirmPasswordRule = (password,confirmPassword) => {\n  console.log(password==confirmPassword)\n  return password == confirmPassword\n}\n\n/** 圖片格式驗證\n * @desc 密碼驗證\n * @param { filename } string - image test\n * @return { boolean } boolean - 驗證通過回傳 true, 否則 false\n */\nexport const imageTypeRule = (filename) => {\n  return /\\.(jpg|png|JPG|PNG|jpeg)$/.test(filename)\n}\n","module.exports = __webpack_public_path__ + \"img/img.7dce9c6b.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Sign.vue?vue&type=style&index=0&id=572e74a5&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/MetaWall.d0ffe334.png\";"],"sourceRoot":""}